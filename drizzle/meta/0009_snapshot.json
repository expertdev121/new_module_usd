{
  "id": "0f192189-3052-4946-9f57-578e442a3c4d",
  "prevId": "bba5b6cd-20d8-42c6-8a41-d86141c9b4b8",
  "version": "7",
  "dialect": "postgresql",
  "tables": {
    "public.account": {
      "name": "account",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "location_id": {
          "name": "location_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.audit_log": {
      "name": "audit_log",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "user_id": {
          "name": "user_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "user_email": {
          "name": "user_email",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "action": {
          "name": "action",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "details": {
          "name": "details",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "ip_address": {
          "name": "ip_address",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "user_agent": {
          "name": "user_agent",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "timestamp": {
          "name": "timestamp",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "audit_log_user_id_user_id_fk": {
          "name": "audit_log_user_id_user_id_fk",
          "tableFrom": "audit_log",
          "tableTo": "user",
          "columnsFrom": [
            "user_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.bonus_calculation": {
      "name": "bonus_calculation",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "payment_id": {
          "name": "payment_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "solicitor_id": {
          "name": "solicitor_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "bonus_rule_id": {
          "name": "bonus_rule_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "payment_amount": {
          "name": "payment_amount",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "bonus_percentage": {
          "name": "bonus_percentage",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "bonus_amount": {
          "name": "bonus_amount",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "calculated_at": {
          "name": "calculated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "is_paid": {
          "name": "is_paid",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "paid_at": {
          "name": "paid_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "bonus_calculation_payment_id_idx": {
          "name": "bonus_calculation_payment_id_idx",
          "columns": [
            {
              "expression": "payment_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "bonus_calculation_solicitor_id_idx": {
          "name": "bonus_calculation_solicitor_id_idx",
          "columns": [
            {
              "expression": "solicitor_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "bonus_calculation_calculated_at_idx": {
          "name": "bonus_calculation_calculated_at_idx",
          "columns": [
            {
              "expression": "calculated_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "bonus_calculation_is_paid_idx": {
          "name": "bonus_calculation_is_paid_idx",
          "columns": [
            {
              "expression": "is_paid",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "bonus_calculation_payment_id_payment_id_fk": {
          "name": "bonus_calculation_payment_id_payment_id_fk",
          "tableFrom": "bonus_calculation",
          "tableTo": "payment",
          "columnsFrom": [
            "payment_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "bonus_calculation_solicitor_id_solicitor_id_fk": {
          "name": "bonus_calculation_solicitor_id_solicitor_id_fk",
          "tableFrom": "bonus_calculation",
          "tableTo": "solicitor",
          "columnsFrom": [
            "solicitor_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "bonus_calculation_bonus_rule_id_bonus_rule_id_fk": {
          "name": "bonus_calculation_bonus_rule_id_bonus_rule_id_fk",
          "tableFrom": "bonus_calculation",
          "tableTo": "bonus_rule",
          "columnsFrom": [
            "bonus_rule_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "bonus_calculation_payment_id_unique": {
          "name": "bonus_calculation_payment_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "payment_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.bonus_rule": {
      "name": "bonus_rule",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "solicitor_id": {
          "name": "solicitor_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "rule_name": {
          "name": "rule_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "bonus_percentage": {
          "name": "bonus_percentage",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "payment_type": {
          "name": "payment_type",
          "type": "bonus_payment_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'both'"
        },
        "min_amount": {
          "name": "min_amount",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "max_amount": {
          "name": "max_amount",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "effective_from": {
          "name": "effective_from",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "effective_to": {
          "name": "effective_to",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "priority": {
          "name": "priority",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "bonus_rule_solicitor_id_idx": {
          "name": "bonus_rule_solicitor_id_idx",
          "columns": [
            {
              "expression": "solicitor_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "bonus_rule_effective_dates_idx": {
          "name": "bonus_rule_effective_dates_idx",
          "columns": [
            {
              "expression": "effective_from",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "effective_to",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "bonus_rule_priority_idx": {
          "name": "bonus_rule_priority_idx",
          "columns": [
            {
              "expression": "priority",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "bonus_rule_solicitor_id_solicitor_id_fk": {
          "name": "bonus_rule_solicitor_id_solicitor_id_fk",
          "tableFrom": "bonus_rule",
          "tableTo": "solicitor",
          "columnsFrom": [
            "solicitor_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.campaign": {
      "name": "campaign",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "campaign_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "location_id": {
          "name": "location_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_by": {
          "name": "created_by",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "updated_by": {
          "name": "updated_by",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "campaign_created_by_user_id_fk": {
          "name": "campaign_created_by_user_id_fk",
          "tableFrom": "campaign",
          "tableTo": "user",
          "columnsFrom": [
            "created_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "campaign_updated_by_user_id_fk": {
          "name": "campaign_updated_by_user_id_fk",
          "tableFrom": "campaign",
          "tableTo": "user",
          "columnsFrom": [
            "updated_by"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.category": {
      "name": "category",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "location_id": {
          "name": "location_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.category_group": {
      "name": "category_group",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "location_id": {
          "name": "location_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "category_id": {
          "name": "category_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "category_item_id": {
          "name": "category_item_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "category_group_category_id_category_id_fk": {
          "name": "category_group_category_id_category_id_fk",
          "tableFrom": "category_group",
          "tableTo": "category",
          "columnsFrom": [
            "category_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "category_group_category_item_id_category_item_id_fk": {
          "name": "category_group_category_item_id_category_item_id_fk",
          "tableFrom": "category_group",
          "tableTo": "category_item",
          "columnsFrom": [
            "category_item_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.category_item": {
      "name": "category_item",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "occ_id": {
          "name": "occ_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "category_id": {
          "name": "category_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "location_id": {
          "name": "location_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "category_item_category_id_category_id_fk": {
          "name": "category_item_category_id_category_id_fk",
          "tableFrom": "category_item",
          "tableTo": "category",
          "columnsFrom": [
            "category_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.contact": {
      "name": "contact",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "ghl_contact_id": {
          "name": "ghl_contact_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "location_id": {
          "name": "location_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "first_name": {
          "name": "first_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "display_name": {
          "name": "display_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "last_name": {
          "name": "last_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "email": {
          "name": "email",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "phone": {
          "name": "phone",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "title": {
          "name": "title",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "gender": {
          "name": "gender",
          "type": "gender",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false
        },
        "address": {
          "name": "address",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.contact_roles": {
      "name": "contact_roles",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "contact_id": {
          "name": "contact_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "role_name": {
          "name": "role_name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "start_date": {
          "name": "start_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "end_date": {
          "name": "end_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "location_id": {
          "name": "location_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "contact_roles_contact_id_idx": {
          "name": "contact_roles_contact_id_idx",
          "columns": [
            {
              "expression": "contact_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "contact_roles_role_name_idx": {
          "name": "contact_roles_role_name_idx",
          "columns": [
            {
              "expression": "role_name",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "contact_roles_contact_id_contact_id_fk": {
          "name": "contact_roles_contact_id_contact_id_fk",
          "tableFrom": "contact_roles",
          "tableTo": "contact",
          "columnsFrom": [
            "contact_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.currency_conversion_log": {
      "name": "currency_conversion_log",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "payment_id": {
          "name": "payment_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "from_currency": {
          "name": "from_currency",
          "type": "currency",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "to_currency": {
          "name": "to_currency",
          "type": "currency",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "from_amount": {
          "name": "from_amount",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "to_amount": {
          "name": "to_amount",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "exchange_rate": {
          "name": "exchange_rate",
          "type": "numeric(10, 4)",
          "primaryKey": false,
          "notNull": true
        },
        "conversion_date": {
          "name": "conversion_date",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "conversion_type": {
          "name": "conversion_type",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "currency_conversion_log_payment_id_idx": {
          "name": "currency_conversion_log_payment_id_idx",
          "columns": [
            {
              "expression": "payment_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "currency_conversion_log_date_idx": {
          "name": "currency_conversion_log_date_idx",
          "columns": [
            {
              "expression": "conversion_date",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "currency_conversion_log_type_idx": {
          "name": "currency_conversion_log_type_idx",
          "columns": [
            {
              "expression": "conversion_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "currency_conversion_log_payment_id_payment_id_fk": {
          "name": "currency_conversion_log_payment_id_payment_id_fk",
          "tableFrom": "currency_conversion_log",
          "tableTo": "payment",
          "columnsFrom": [
            "payment_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.exchange_rate": {
      "name": "exchange_rate",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "base_currency": {
          "name": "base_currency",
          "type": "currency",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'USD'"
        },
        "target_currency": {
          "name": "target_currency",
          "type": "currency",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "rate": {
          "name": "rate",
          "type": "numeric(18, 6)",
          "primaryKey": false,
          "notNull": true
        },
        "date": {
          "name": "date",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "date",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "date",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "exchange_rate_unique_idx": {
          "name": "exchange_rate_unique_idx",
          "columns": [
            {
              "expression": "base_currency",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "target_currency",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "date",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "exchange_rate_base_currency_idx": {
          "name": "exchange_rate_base_currency_idx",
          "columns": [
            {
              "expression": "base_currency",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "exchange_rate_target_currency_idx": {
          "name": "exchange_rate_target_currency_idx",
          "columns": [
            {
              "expression": "target_currency",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "exchange_rate_date_idx": {
          "name": "exchange_rate_date_idx",
          "columns": [
            {
              "expression": "date",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.installment_schedule": {
      "name": "installment_schedule",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "payment_plan_id": {
          "name": "payment_plan_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "installment_date": {
          "name": "installment_date",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "installment_amount": {
          "name": "installment_amount",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "currency": {
          "name": "currency",
          "type": "currency",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "installment_amount_usd": {
          "name": "installment_amount_usd",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "installment_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'pending'"
        },
        "paid_date": {
          "name": "paid_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "payment_id": {
          "name": "payment_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {
        "installment_schedule_payment_plan_id_idx": {
          "name": "installment_schedule_payment_plan_id_idx",
          "columns": [
            {
              "expression": "payment_plan_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "installment_schedule_installment_date_idx": {
          "name": "installment_schedule_installment_date_idx",
          "columns": [
            {
              "expression": "installment_date",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "installment_schedule_status_idx": {
          "name": "installment_schedule_status_idx",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "installment_schedule_payment_id_idx": {
          "name": "installment_schedule_payment_id_idx",
          "columns": [
            {
              "expression": "payment_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "installment_schedule_payment_plan_id_payment_plan_id_fk": {
          "name": "installment_schedule_payment_plan_id_payment_plan_id_fk",
          "tableFrom": "installment_schedule",
          "tableTo": "payment_plan",
          "columnsFrom": [
            "payment_plan_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.manual_donation": {
      "name": "manual_donation",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "contact_id": {
          "name": "contact_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "amount": {
          "name": "amount",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "currency": {
          "name": "currency",
          "type": "currency",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "amount_usd": {
          "name": "amount_usd",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "exchange_rate": {
          "name": "exchange_rate",
          "type": "numeric(10, 4)",
          "primaryKey": false,
          "notNull": false
        },
        "payment_date": {
          "name": "payment_date",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "received_date": {
          "name": "received_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "check_date": {
          "name": "check_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "account_id": {
          "name": "account_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "campaign_id": {
          "name": "campaign_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "payment_method": {
          "name": "payment_method",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "method_detail": {
          "name": "method_detail",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "payment_status": {
          "name": "payment_status",
          "type": "payment_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'completed'"
        },
        "reference_number": {
          "name": "reference_number",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "check_number": {
          "name": "check_number",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "receipt_number": {
          "name": "receipt_number",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "receipt_type": {
          "name": "receipt_type",
          "type": "receipt_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false
        },
        "receipt_issued": {
          "name": "receipt_issued",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "solicitor_id": {
          "name": "solicitor_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "bonus_percentage": {
          "name": "bonus_percentage",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "bonus_amount": {
          "name": "bonus_amount",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "bonus_rule_id": {
          "name": "bonus_rule_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "manual_donation_contact_id_idx": {
          "name": "manual_donation_contact_id_idx",
          "columns": [
            {
              "expression": "contact_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "manual_donation_payment_date_idx": {
          "name": "manual_donation_payment_date_idx",
          "columns": [
            {
              "expression": "payment_date",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "manual_donation_status_idx": {
          "name": "manual_donation_status_idx",
          "columns": [
            {
              "expression": "payment_status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "manual_donation_reference_idx": {
          "name": "manual_donation_reference_idx",
          "columns": [
            {
              "expression": "reference_number",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "manual_donation_solicitor_id_idx": {
          "name": "manual_donation_solicitor_id_idx",
          "columns": [
            {
              "expression": "solicitor_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "manual_donation_currency_idx": {
          "name": "manual_donation_currency_idx",
          "columns": [
            {
              "expression": "currency",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "manual_donation_campaign_id_idx": {
          "name": "manual_donation_campaign_id_idx",
          "columns": [
            {
              "expression": "campaign_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "manual_donation_contact_id_contact_id_fk": {
          "name": "manual_donation_contact_id_contact_id_fk",
          "tableFrom": "manual_donation",
          "tableTo": "contact",
          "columnsFrom": [
            "contact_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "manual_donation_account_id_account_id_fk": {
          "name": "manual_donation_account_id_account_id_fk",
          "tableFrom": "manual_donation",
          "tableTo": "account",
          "columnsFrom": [
            "account_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "manual_donation_campaign_id_campaign_id_fk": {
          "name": "manual_donation_campaign_id_campaign_id_fk",
          "tableFrom": "manual_donation",
          "tableTo": "campaign",
          "columnsFrom": [
            "campaign_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "manual_donation_solicitor_id_solicitor_id_fk": {
          "name": "manual_donation_solicitor_id_solicitor_id_fk",
          "tableFrom": "manual_donation",
          "tableTo": "solicitor",
          "columnsFrom": [
            "solicitor_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "manual_donation_bonus_rule_id_bonus_rule_id_fk": {
          "name": "manual_donation_bonus_rule_id_bonus_rule_id_fk",
          "tableFrom": "manual_donation",
          "tableTo": "bonus_rule",
          "columnsFrom": [
            "bonus_rule_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.payment": {
      "name": "payment",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "pledge_id": {
          "name": "pledge_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "payment_plan_id": {
          "name": "payment_plan_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "installment_schedule_id": {
          "name": "installment_schedule_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "relationship_id": {
          "name": "relationship_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "payer_contact_id": {
          "name": "payer_contact_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "is_third_party_payment": {
          "name": "is_third_party_payment",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "amount": {
          "name": "amount",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "currency": {
          "name": "currency",
          "type": "currency",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "amount_usd": {
          "name": "amount_usd",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "exchange_rate": {
          "name": "exchange_rate",
          "type": "numeric(10, 4)",
          "primaryKey": false,
          "notNull": false
        },
        "amount_in_pledge_currency": {
          "name": "amount_in_pledge_currency",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "pledge_currency_exchange_rate": {
          "name": "pledge_currency_exchange_rate",
          "type": "numeric(10, 4)",
          "primaryKey": false,
          "notNull": false
        },
        "amount_in_plan_currency": {
          "name": "amount_in_plan_currency",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "plan_currency_exchange_rate": {
          "name": "plan_currency_exchange_rate",
          "type": "numeric(10, 4)",
          "primaryKey": false,
          "notNull": false
        },
        "payment_date": {
          "name": "payment_date",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "received_date": {
          "name": "received_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "check_date": {
          "name": "check_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "account": {
          "name": "account",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "payment_method": {
          "name": "payment_method",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "method_detail": {
          "name": "method_detail",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "payment_status": {
          "name": "payment_status",
          "type": "payment_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'completed'"
        },
        "reference_number": {
          "name": "reference_number",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "check_number": {
          "name": "check_number",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "receipt_number": {
          "name": "receipt_number",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "receipt_type": {
          "name": "receipt_type",
          "type": "receipt_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false
        },
        "receipt_issued": {
          "name": "receipt_issued",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "solicitor_id": {
          "name": "solicitor_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "bonus_percentage": {
          "name": "bonus_percentage",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "bonus_amount": {
          "name": "bonus_amount",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "bonus_rule_id": {
          "name": "bonus_rule_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "payment_pledge_id_idx": {
          "name": "payment_pledge_id_idx",
          "columns": [
            {
              "expression": "pledge_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "payment_payment_plan_id_idx": {
          "name": "payment_payment_plan_id_idx",
          "columns": [
            {
              "expression": "payment_plan_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "payment_relationship_id_idx": {
          "name": "payment_relationship_id_idx",
          "columns": [
            {
              "expression": "relationship_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "payment_payer_contact_id_idx": {
          "name": "payment_payer_contact_id_idx",
          "columns": [
            {
              "expression": "payer_contact_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "payment_is_third_party_idx": {
          "name": "payment_is_third_party_idx",
          "columns": [
            {
              "expression": "is_third_party_payment",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "payment_payment_date_idx": {
          "name": "payment_payment_date_idx",
          "columns": [
            {
              "expression": "payment_date",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "payment_status_idx": {
          "name": "payment_status_idx",
          "columns": [
            {
              "expression": "payment_status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "payment_reference_idx": {
          "name": "payment_reference_idx",
          "columns": [
            {
              "expression": "reference_number",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "payment_solicitor_id_idx": {
          "name": "payment_solicitor_id_idx",
          "columns": [
            {
              "expression": "solicitor_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "payment_installment_schedule_id_idx": {
          "name": "payment_installment_schedule_id_idx",
          "columns": [
            {
              "expression": "installment_schedule_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "payment_currency_idx": {
          "name": "payment_currency_idx",
          "columns": [
            {
              "expression": "currency",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "payment_pledge_id_pledge_id_fk": {
          "name": "payment_pledge_id_pledge_id_fk",
          "tableFrom": "payment",
          "tableTo": "pledge",
          "columnsFrom": [
            "pledge_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "payment_payment_plan_id_payment_plan_id_fk": {
          "name": "payment_payment_plan_id_payment_plan_id_fk",
          "tableFrom": "payment",
          "tableTo": "payment_plan",
          "columnsFrom": [
            "payment_plan_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "payment_installment_schedule_id_installment_schedule_id_fk": {
          "name": "payment_installment_schedule_id_installment_schedule_id_fk",
          "tableFrom": "payment",
          "tableTo": "installment_schedule",
          "columnsFrom": [
            "installment_schedule_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "payment_relationship_id_relationships_id_fk": {
          "name": "payment_relationship_id_relationships_id_fk",
          "tableFrom": "payment",
          "tableTo": "relationships",
          "columnsFrom": [
            "relationship_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "payment_payer_contact_id_contact_id_fk": {
          "name": "payment_payer_contact_id_contact_id_fk",
          "tableFrom": "payment",
          "tableTo": "contact",
          "columnsFrom": [
            "payer_contact_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "payment_solicitor_id_solicitor_id_fk": {
          "name": "payment_solicitor_id_solicitor_id_fk",
          "tableFrom": "payment",
          "tableTo": "solicitor",
          "columnsFrom": [
            "solicitor_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "payment_bonus_rule_id_bonus_rule_id_fk": {
          "name": "payment_bonus_rule_id_bonus_rule_id_fk",
          "tableFrom": "payment",
          "tableTo": "bonus_rule",
          "columnsFrom": [
            "bonus_rule_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.payment_allocations": {
      "name": "payment_allocations",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "payment_id": {
          "name": "payment_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "pledge_id": {
          "name": "pledge_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "installment_schedule_id": {
          "name": "installment_schedule_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "payer_contact_id": {
          "name": "payer_contact_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "allocated_amount": {
          "name": "allocated_amount",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "currency": {
          "name": "currency",
          "type": "currency",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "allocated_amount_usd": {
          "name": "allocated_amount_usd",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "allocated_amount_in_pledge_currency": {
          "name": "allocated_amount_in_pledge_currency",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "receipt_number": {
          "name": "receipt_number",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "receipt_type": {
          "name": "receipt_type",
          "type": "receipt_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false
        },
        "receipt_issued": {
          "name": "receipt_issued",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "payment_allocations_payment_id_idx": {
          "name": "payment_allocations_payment_id_idx",
          "columns": [
            {
              "expression": "payment_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "payment_allocations_pledge_id_idx": {
          "name": "payment_allocations_pledge_id_idx",
          "columns": [
            {
              "expression": "pledge_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "payment_allocations_payer_contact_id_idx": {
          "name": "payment_allocations_payer_contact_id_idx",
          "columns": [
            {
              "expression": "payer_contact_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "payment_allocations_installment_schedule_id_idx": {
          "name": "payment_allocations_installment_schedule_id_idx",
          "columns": [
            {
              "expression": "installment_schedule_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "payment_allocations_unique": {
          "name": "payment_allocations_unique",
          "columns": [
            {
              "expression": "payment_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "pledge_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "installment_schedule_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "payment_allocations_payment_id_payment_id_fk": {
          "name": "payment_allocations_payment_id_payment_id_fk",
          "tableFrom": "payment_allocations",
          "tableTo": "payment",
          "columnsFrom": [
            "payment_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "payment_allocations_pledge_id_pledge_id_fk": {
          "name": "payment_allocations_pledge_id_pledge_id_fk",
          "tableFrom": "payment_allocations",
          "tableTo": "pledge",
          "columnsFrom": [
            "pledge_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "payment_allocations_installment_schedule_id_installment_schedule_id_fk": {
          "name": "payment_allocations_installment_schedule_id_installment_schedule_id_fk",
          "tableFrom": "payment_allocations",
          "tableTo": "installment_schedule",
          "columnsFrom": [
            "installment_schedule_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "payment_allocations_payer_contact_id_contact_id_fk": {
          "name": "payment_allocations_payer_contact_id_contact_id_fk",
          "tableFrom": "payment_allocations",
          "tableTo": "contact",
          "columnsFrom": [
            "payer_contact_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.payment_method_details": {
      "name": "payment_method_details",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "payment_method_id": {
          "name": "payment_method_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "key": {
          "name": "key",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "value": {
          "name": "value",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "location_id": {
          "name": "location_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "payment_method_details_payment_method_id_payment_methods_id_fk": {
          "name": "payment_method_details_payment_method_id_payment_methods_id_fk",
          "tableFrom": "payment_method_details",
          "tableTo": "payment_methods",
          "columnsFrom": [
            "payment_method_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.payment_methods": {
      "name": "payment_methods",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "location_id": {
          "name": "location_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.payment_plan": {
      "name": "payment_plan",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "pledge_id": {
          "name": "pledge_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "relationship_id": {
          "name": "relationship_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "plan_name": {
          "name": "plan_name",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "frequency": {
          "name": "frequency",
          "type": "frequency",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "distribution_type": {
          "name": "distribution_type",
          "type": "distribution_type",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'fixed'"
        },
        "total_planned_amount": {
          "name": "total_planned_amount",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "currency": {
          "name": "currency",
          "type": "currency",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "total_planned_amount_usd": {
          "name": "total_planned_amount_usd",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "installment_amount": {
          "name": "installment_amount",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "installment_amount_usd": {
          "name": "installment_amount_usd",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "number_of_installments": {
          "name": "number_of_installments",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "exchange_rate": {
          "name": "exchange_rate",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "start_date": {
          "name": "start_date",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "end_date": {
          "name": "end_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "next_payment_date": {
          "name": "next_payment_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "installments_paid": {
          "name": "installments_paid",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "total_paid": {
          "name": "total_paid",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": true,
          "default": "'0'"
        },
        "total_paid_usd": {
          "name": "total_paid_usd",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "remaining_amount": {
          "name": "remaining_amount",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "remaining_amount_usd": {
          "name": "remaining_amount_usd",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "plan_status": {
          "name": "plan_status",
          "type": "plan_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "auto_renew": {
          "name": "auto_renew",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "reminders_sent": {
          "name": "reminders_sent",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "last_reminder_date": {
          "name": "last_reminder_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "currency_priority": {
          "name": "currency_priority",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "internal_notes": {
          "name": "internal_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "payment_plan_pledge_id_idx": {
          "name": "payment_plan_pledge_id_idx",
          "columns": [
            {
              "expression": "pledge_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "payment_plan_relationship_id_idx": {
          "name": "payment_plan_relationship_id_idx",
          "columns": [
            {
              "expression": "relationship_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "payment_plan_status_idx": {
          "name": "payment_plan_status_idx",
          "columns": [
            {
              "expression": "plan_status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "payment_plan_next_payment_idx": {
          "name": "payment_plan_next_payment_idx",
          "columns": [
            {
              "expression": "next_payment_date",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "payment_plan_currency_idx": {
          "name": "payment_plan_currency_idx",
          "columns": [
            {
              "expression": "currency",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "payment_plan_currency_priority_idx": {
          "name": "payment_plan_currency_priority_idx",
          "columns": [
            {
              "expression": "pledge_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "currency_priority",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "payment_plan_pledge_id_pledge_id_fk": {
          "name": "payment_plan_pledge_id_pledge_id_fk",
          "tableFrom": "payment_plan",
          "tableTo": "pledge",
          "columnsFrom": [
            "pledge_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "payment_plan_relationship_id_relationships_id_fk": {
          "name": "payment_plan_relationship_id_relationships_id_fk",
          "tableFrom": "payment_plan",
          "tableTo": "relationships",
          "columnsFrom": [
            "relationship_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.payment_tags": {
      "name": "payment_tags",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "payment_id": {
          "name": "payment_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "tag_id": {
          "name": "tag_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "payment_tags_payment_id_idx": {
          "name": "payment_tags_payment_id_idx",
          "columns": [
            {
              "expression": "payment_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "payment_tags_tag_id_idx": {
          "name": "payment_tags_tag_id_idx",
          "columns": [
            {
              "expression": "tag_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "payment_tags_unique": {
          "name": "payment_tags_unique",
          "columns": [
            {
              "expression": "payment_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "tag_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "payment_tags_payment_id_payment_id_fk": {
          "name": "payment_tags_payment_id_payment_id_fk",
          "tableFrom": "payment_tags",
          "tableTo": "payment",
          "columnsFrom": [
            "payment_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "payment_tags_tag_id_tag_id_fk": {
          "name": "payment_tags_tag_id_tag_id_fk",
          "tableFrom": "payment_tags",
          "tableTo": "tag",
          "columnsFrom": [
            "tag_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.pledge": {
      "name": "pledge",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "contact_id": {
          "name": "contact_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "category_id": {
          "name": "category_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "relationship_id": {
          "name": "relationship_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "pledge_date": {
          "name": "pledge_date",
          "type": "date",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "original_amount": {
          "name": "original_amount",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "currency": {
          "name": "currency",
          "type": "currency",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'USD'"
        },
        "total_paid": {
          "name": "total_paid",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": true,
          "default": "'0'"
        },
        "balance": {
          "name": "balance",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "original_amount_usd": {
          "name": "original_amount_usd",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "total_paid_usd": {
          "name": "total_paid_usd",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "exchange_rate": {
          "name": "exchange_rate",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "balance_usd": {
          "name": "balance_usd",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "campaign_code": {
          "name": "campaign_code",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "pledge_contact_id_idx": {
          "name": "pledge_contact_id_idx",
          "columns": [
            {
              "expression": "contact_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "pledge_category_id_idx": {
          "name": "pledge_category_id_idx",
          "columns": [
            {
              "expression": "category_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "pledge_relationship_id_idx": {
          "name": "pledge_relationship_id_idx",
          "columns": [
            {
              "expression": "relationship_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "pledge_pledge_date_idx": {
          "name": "pledge_pledge_date_idx",
          "columns": [
            {
              "expression": "pledge_date",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "pledge_currency_idx": {
          "name": "pledge_currency_idx",
          "columns": [
            {
              "expression": "currency",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "pledge_contact_id_contact_id_fk": {
          "name": "pledge_contact_id_contact_id_fk",
          "tableFrom": "pledge",
          "tableTo": "contact",
          "columnsFrom": [
            "contact_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "pledge_category_id_category_id_fk": {
          "name": "pledge_category_id_category_id_fk",
          "tableFrom": "pledge",
          "tableTo": "category",
          "columnsFrom": [
            "category_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        },
        "pledge_relationship_id_relationships_id_fk": {
          "name": "pledge_relationship_id_relationships_id_fk",
          "tableFrom": "pledge",
          "tableTo": "relationships",
          "columnsFrom": [
            "relationship_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "set null",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.pledge_tags": {
      "name": "pledge_tags",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "pledge_id": {
          "name": "pledge_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "tag_id": {
          "name": "tag_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "pledge_tags_pledge_id_idx": {
          "name": "pledge_tags_pledge_id_idx",
          "columns": [
            {
              "expression": "pledge_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "pledge_tags_tag_id_idx": {
          "name": "pledge_tags_tag_id_idx",
          "columns": [
            {
              "expression": "tag_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "pledge_tags_unique": {
          "name": "pledge_tags_unique",
          "columns": [
            {
              "expression": "pledge_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "tag_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "pledge_tags_pledge_id_pledge_id_fk": {
          "name": "pledge_tags_pledge_id_pledge_id_fk",
          "tableFrom": "pledge_tags",
          "tableTo": "pledge",
          "columnsFrom": [
            "pledge_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "pledge_tags_tag_id_tag_id_fk": {
          "name": "pledge_tags_tag_id_tag_id_fk",
          "tableFrom": "pledge_tags",
          "tableTo": "tag",
          "columnsFrom": [
            "tag_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.relationships": {
      "name": "relationships",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "contact_id": {
          "name": "contact_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "related_contact_id": {
          "name": "related_contact_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "relationship_type": {
          "name": "relationship_type",
          "type": "relationship",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "location_id": {
          "name": "location_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "relationships_contact_id_idx": {
          "name": "relationships_contact_id_idx",
          "columns": [
            {
              "expression": "contact_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "relationships_related_contact_id_idx": {
          "name": "relationships_related_contact_id_idx",
          "columns": [
            {
              "expression": "related_contact_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "relationships_unique": {
          "name": "relationships_unique",
          "columns": [
            {
              "expression": "contact_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "related_contact_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "relationship_type",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": true,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "relationships_contact_id_contact_id_fk": {
          "name": "relationships_contact_id_contact_id_fk",
          "tableFrom": "relationships",
          "tableTo": "contact",
          "columnsFrom": [
            "contact_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "relationships_related_contact_id_contact_id_fk": {
          "name": "relationships_related_contact_id_contact_id_fk",
          "tableFrom": "relationships",
          "tableTo": "contact",
          "columnsFrom": [
            "related_contact_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.solicitor": {
      "name": "solicitor",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "contact_id": {
          "name": "contact_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "solicitor_code": {
          "name": "solicitor_code",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "solicitor_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "commission_rate": {
          "name": "commission_rate",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "hire_date": {
          "name": "hire_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "termination_date": {
          "name": "termination_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "location_id": {
          "name": "location_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "notes": {
          "name": "notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "solicitor_contact_id_idx": {
          "name": "solicitor_contact_id_idx",
          "columns": [
            {
              "expression": "contact_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "solicitor_status_idx": {
          "name": "solicitor_status_idx",
          "columns": [
            {
              "expression": "status",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "solicitor_code_idx": {
          "name": "solicitor_code_idx",
          "columns": [
            {
              "expression": "solicitor_code",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "solicitor_contact_id_contact_id_fk": {
          "name": "solicitor_contact_id_contact_id_fk",
          "tableFrom": "solicitor",
          "tableTo": "contact",
          "columnsFrom": [
            "contact_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "solicitor_contact_id_unique": {
          "name": "solicitor_contact_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "contact_id"
          ]
        },
        "solicitor_solicitor_code_unique": {
          "name": "solicitor_solicitor_code_unique",
          "nullsNotDistinct": false,
          "columns": [
            "solicitor_code"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.student_roles": {
      "name": "student_roles",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "contact_id": {
          "name": "contact_id",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "year": {
          "name": "year",
          "type": "text",
          "primaryKey": false,
          "notNull": true,
          "default": "'2024-2025'"
        },
        "program": {
          "name": "program",
          "type": "program",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "track": {
          "name": "track",
          "type": "track",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "track_detail": {
          "name": "track_detail",
          "type": "track_detail",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false
        },
        "location_id": {
          "name": "location_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "status": {
          "name": "status",
          "type": "status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true
        },
        "machzor": {
          "name": "machzor",
          "type": "machzor",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": false
        },
        "start_date": {
          "name": "start_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "end_date": {
          "name": "end_date",
          "type": "date",
          "primaryKey": false,
          "notNull": false
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "additional_notes": {
          "name": "additional_notes",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {
        "student_roles_contact_id_idx": {
          "name": "student_roles_contact_id_idx",
          "columns": [
            {
              "expression": "contact_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "student_roles_contact_id_contact_id_fk": {
          "name": "student_roles_contact_id_contact_id_fk",
          "tableFrom": "student_roles",
          "tableTo": "contact",
          "columnsFrom": [
            "contact_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.tag": {
      "name": "tag",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "name": {
          "name": "name",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "description": {
          "name": "description",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "location_id": {
          "name": "location_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "show_on_payment": {
          "name": "show_on_payment",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "show_on_pledge": {
          "name": "show_on_pledge",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.user": {
      "name": "user",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "serial",
          "primaryKey": true,
          "notNull": true
        },
        "email": {
          "name": "email",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "password_hash": {
          "name": "password_hash",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "location_id": {
          "name": "location_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "role": {
          "name": "role",
          "type": "role",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'user'"
        },
        "status": {
          "name": "status",
          "type": "user_status",
          "typeSchema": "public",
          "primaryKey": false,
          "notNull": true,
          "default": "'active'"
        },
        "is_active": {
          "name": "is_active",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    }
  },
  "enums": {
    "public.bonus_payment_type": {
      "name": "bonus_payment_type",
      "schema": "public",
      "values": [
        "tuition",
        "donation",
        "both"
      ]
    },
    "public.campaign_status": {
      "name": "campaign_status",
      "schema": "public",
      "values": [
        "active",
        "inactive",
        "completed"
      ]
    },
    "public.currency": {
      "name": "currency",
      "schema": "public",
      "values": [
        "USD",
        "ILS",
        "EUR",
        "JPY",
        "GBP",
        "AUD",
        "CAD",
        "ZAR"
      ]
    },
    "public.distribution_type": {
      "name": "distribution_type",
      "schema": "public",
      "values": [
        "fixed",
        "custom"
      ]
    },
    "public.frequency": {
      "name": "frequency",
      "schema": "public",
      "values": [
        "weekly",
        "monthly",
        "quarterly",
        "biannual",
        "annual",
        "one_time",
        "custom"
      ]
    },
    "public.gender": {
      "name": "gender",
      "schema": "public",
      "values": [
        "male",
        "female"
      ]
    },
    "public.installment_status": {
      "name": "installment_status",
      "schema": "public",
      "values": [
        "pending",
        "paid",
        "overdue",
        "cancelled"
      ]
    },
    "public.machzor": {
      "name": "machzor",
      "schema": "public",
      "values": [
        "10.5",
        "10",
        "9.5",
        "9",
        "8.5",
        "8"
      ]
    },
    "public.payment_status": {
      "name": "payment_status",
      "schema": "public",
      "values": [
        "pending",
        "completed",
        "failed",
        "cancelled",
        "refunded",
        "processing",
        "expected"
      ]
    },
    "public.plan_status": {
      "name": "plan_status",
      "schema": "public",
      "values": [
        "active",
        "completed",
        "cancelled",
        "paused",
        "overdue"
      ]
    },
    "public.program": {
      "name": "program",
      "schema": "public",
      "values": [
        "LH",
        "LLC",
        "ML",
        "Kollel",
        "Madrich"
      ]
    },
    "public.receipt_type": {
      "name": "receipt_type",
      "schema": "public",
      "values": [
        "invoice",
        "confirmation",
        "receipt",
        "other"
      ]
    },
    "public.relationship": {
      "name": "relationship",
      "schema": "public",
      "values": [
        "mother",
        "father",
        "grandmother",
        "grandchild",
        "grandfather",
        "grandparent",
        "parent",
        "step-parent",
        "stepmother",
        "stepfather",
        "sister",
        "brother",
        "step-sister",
        "step-brother",
        "stepson",
        "daughter",
        "son",
        "aunt",
        "uncle",
        "aunt/uncle",
        "nephew",
        "niece",
        "grandson",
        "granddaughter",
        "cousin (m)",
        "cousin (f)",
        "spouse",
        "partner",
        "wife",
        "husband",
        "former husband",
        "former wife",
        "fiance",
        "divorced co-parent",
        "separated co-parent",
        "legal guardian",
        "legal guardian partner",
        "friend",
        "neighbor",
        "relative",
        "business",
        "owner",
        "chevrusa",
        "congregant",
        "rabbi",
        "contact",
        "foundation",
        "donor",
        "fund",
        "rebbi contact",
        "rebbi contact for",
        "employee",
        "employer",
        "machatunim",
        "His Sister",
        "Her Sister",
        "Her Brother",
        "His Brother",
        "His Aunt",
        "Her Aunt",
        "His Uncle",
        "Her Uncle",
        "His Parents",
        "Her Parents",
        "Her Mother",
        "His Mother",
        "His Father",
        "Her Nephew",
        "His Nephew",
        "His Niece",
        "Her Niece",
        "His Grandparents",
        "Her Grandparents",
        "Her Father",
        "Their Daughter",
        "Their Son",
        "His Daughter",
        "His Son",
        "Her Daughter",
        "Her Son",
        "His Cousin (M)",
        "Her Grandfather",
        "Her Grandmother",
        "His Grandfather",
        "His Grandmother",
        "His Wife",
        "Her Husband",
        "Her Former Husband",
        "His Former Wife",
        "His Cousin (F)",
        "Her Cousin (M)",
        "Her Cousin (F)",
        "Partner",
        "Friend",
        "Neighbor",
        "Relative",
        "Business",
        "Chevrusa",
        "Congregant",
        "Contact",
        "Donor",
        "Fiance",
        "Foundation",
        "Fund",
        "Her Step Son",
        "His Step Mother",
        "Owner",
        "Rabbi",
        "Their Granddaughter",
        "Their Grandson",
        "Employee",
        "Employer"
      ]
    },
    "public.role": {
      "name": "role",
      "schema": "public",
      "values": [
        "admin",
        "user",
        "super_admin"
      ]
    },
    "public.solicitor_status": {
      "name": "solicitor_status",
      "schema": "public",
      "values": [
        "active",
        "inactive",
        "suspended"
      ]
    },
    "public.status": {
      "name": "status",
      "schema": "public",
      "values": [
        "Student",
        "Active Soldier",
        "Staff",
        "Withdrew",
        "Transferred Out",
        "Left Early",
        "Asked to Leave"
      ]
    },
    "public.title": {
      "name": "title",
      "schema": "public",
      "values": [
        "mr",
        "mrs",
        "ms",
        "dr",
        "prof",
        "eng",
        "other",
        "rabbi"
      ]
    },
    "public.track_detail": {
      "name": "track_detail",
      "schema": "public",
      "values": [
        "Full Year",
        "Fall",
        "Spring",
        "Until Pesach"
      ]
    },
    "public.track": {
      "name": "track",
      "schema": "public",
      "values": [
        "Alef",
        "Bet",
        "Gimmel",
        "Dalet",
        "Heh",
        "March Draft",
        "August Draft",
        "Room & Board",
        "Other Draft"
      ]
    },
    "public.user_status": {
      "name": "user_status",
      "schema": "public",
      "values": [
        "active",
        "suspended"
      ]
    }
  },
  "schemas": {},
  "sequences": {},
  "roles": {},
  "policies": {},
  "views": {},
  "_meta": {
    "columns": {},
    "schemas": {},
    "tables": {}
  }
}